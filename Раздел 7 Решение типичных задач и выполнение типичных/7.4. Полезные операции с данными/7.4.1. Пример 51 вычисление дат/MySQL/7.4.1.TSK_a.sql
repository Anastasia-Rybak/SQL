-- Задание 7.4.1.TSK.A: переписать решение{528} задачи 7.4.1.a{528} таким об-разом, чтобы запрос возвращал номер недели и номер дня недели в виде одной строки (например, W5D1) — аналогично тому, как результат воз-вращает функция, полученная в решении{532} задачи 7.4.1.b{528}.
SELECT `sb_id`, `sb_start`, Concat('W', CASE WHEN WEEKDAY(`sb_start` - INTERVAL DAY(`sb_start`)-1 DAY) <= WEEKDAY(`sb_start`) THEN WEEK(`sb_start`, 5) - WEEK(`sb_start` - INTERVAL DAY(`sb_start`)-1 DAY, 5) + 1 ELSE WEEK(`sb_start`, 5) - WEEK(`sb_start` - INTERVAL DAY(`sb_start`)-1 DAY, 5) END, 'D', WEEKDAY(`sb_start`) + 1 ) as `WD` FROM `subscriptions`